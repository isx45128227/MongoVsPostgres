// INDEX MONGO

> db.tweets.createIndex({text_tweet:"text"},{"name":"cerca_paraules_tweet"})
{
	"createdCollectionAutomatically" : false,
	"numIndexesBefore" : 1,
	"numIndexesAfter" : 2,
	"ok" : 1
}


> db.tweets.getIndexes()
[
	{
		"v" : 1,
		"key" : {
			"_id" : 1
		},
		"name" : "_id_",
		"ns" : "twitter.tweets"
	},
	{
		"v" : 1,
		"key" : {
			"_fts" : "text",
			"_ftsx" : 1
		},
		"name" : "cerca_paraules_tweet",
		"ns" : "twitter.tweets",
		"weights" : {
			"text_tweet" : 1
		},
		"default_language" : "english",
		"language_override" : 
		
		
		"language",
		"textIndexVersion" : 2
	}
]

> db.tweets.find({$text:{$search:"5000"}})

var result = db.tweets.find({$text:{$search:"5009817"}},{"id_usuari":1})

var usuari = tojson( result.next().id_usuari); 

db.users.find({"id_usuari":parseInt(usuari)})


// Find num usuaris que el segueixen 

db.users.aggregate([
					  {
						  "$group": {
							   "_id": {"_id":"$id_usuari"},
							   "num_seguidors": {"$sum": 1}
						   }
					  },
					  {
						  "$project": {
							   "_id":false,
							   "id_usuari": "$_id",
							   "num_seguidors":"$num_seguidors"
						   }
					  }
])


// Find usuaris a qui segueix





var myCursor = db.users.find( {} );
while ( myCursor.hasNext() ) {    printjson( myCursor.next().id_usuari); }

var myCursor = db.users.find( {} );
while ( myCursor.hasNext() ) {    printjson( myCursor.next().tags[0]); }
